# 2025 Avikus Frontend Recruit 과제

## Github

https://github.com/Taegon21/hi-nas-camera

## 중점 구현 내용

### 1. 확장성 있는 폼 시스템 설계

모듈화된 검증 로직과 재사용 가능한 컴포넌트를 통해 유연하고 확장 가능한 폼 시스템을 구축했습니다.

- **확장 가능한 유효성 검증 스키마** 구축
    - [PR #12: 유효성 검증 스키마 설계](https://github.com/Taegon21/hi-nas-camera/pull/12)
    - [PR #25: 유효성 검증 스키마 구조 개선](https://github.com/Taegon21/hi-nas-camera/pull/25)
    - 팩토리 패턴을 적용한 `schemaCreators` 객체로 필드 타입별 검증 로직 모듈화 및 필드 타입별 검증 로직 분리로 새로운 필드 타입 추가 시 기존 코드 수정 없이 확장 가능하도록 설계
    - 기본 검증 로직을 조합한 복합 데이터 구조(cameraArray, rpyArray) 검증 스키마 생성으로 코드 중복 제거 확장성 향상
    - 스키마에서 자동으로 타입을 추론하는 `z.infer<typeof formSchema>` 활용 및 `satisfies z.ZodType<FormDataType>` 패턴을 통한 스키마와 타입 일치 보장으로 타입 불일치 오류를 컴파일 시점에 감지하고 런타임 에러를 방지
    
- **재사용 가능한 폼 컴포넌트 시스템** 구축
    - [PR #13: 폼 컴포넌트 시스템 구축](https://github.com/Taegon21/hi-nas-camera/pull/13)
    - [PR #31: 입력 및 라디오 폼 컴포넌트 확장성 개선](https://github.com/Taegon21/hi-nas-camera/pull/31)
    - 입력 폼 컴포넌트의 경우 숫자와 문자 필드 타입에 대응하는 범용 컴포넌트로 설계
    - 라디오 그룹 컴포넌트의 경우 옵션 개수에 따라 레이아웃 자동 변경(수평/수직) 가능하도록 구현
    - 외부에서 옵션과 레이블 포맷팅 함수를 주입 가능하도록 개선하여 재사용성을 극대화할 수 있도록 설계
    
- **설정 기반의 필드 정렬 시스템** 구현
    - [PR #29: 불필요한 폼 필드 정렬 연산 제거 및 확장성 개선](https://github.com/Taegon21/hi-nas-camera/pull/29)
    - `CATEGORY_SORT_CONFIG` 설정 객체를 통한 정렬 로직 추상화를 통해, 새로운 정렬 기준 추가 시 설정 객체만 수정하는 유연한 구조로 개선

### 2. 성능 최적화

컴포넌트 트리 구조 개선과 메모이제이션 기법을 통해 렌더링 성능을 최적화했습니다.

- **불필요한 연산 제거 및 렌더링 최적화**
    - [PR #29: 폼 필드 정렬 연산 최적화 및 확장성 개선](https://github.com/Taegon21/hi-nas-camera/pull/29)
    - React 렌더링 성능 분석을 통해 불필요한 연산 지점 식별 후, 정렬 및 그룹화 로직을 `useMemo` 훅으로 메모이제이션하여 리렌더링 시 불필요한 재계산 방지하도록 개선
    - 컴포넌트 트리 깊이를 줄여 React 렌더링 패스 최적화 (FormFieldList 중간 계층 제거)
    - 정렬 로직을 부모 컴포넌트로 이동시켜 자식 컴포넌트의 불필요한 리렌더링 문제 해결

### 3. 중앙화된 데이터 관리

애플리케이션 전반의 일관성과 유지보수성을 위해 데이터와 문자열을 중앙화하여 관리했습니다.

- **폼 데이터 및 타입 중앙 관리**
    - [PR #10: 폼 데이터 타입 및 필드 상수 정의](https://github.com/Taegon21/hi-nas-camera/pull/10)
    - 인터페이스 및 타입 중앙화를 통한 타입 안전성 확보
    - 필드 정의를 상수화하여 코드 전반에 일관성 유지
- **UI 문자열 중앙 관리**
    - [PR #35: UI 문자열 중앙화](https://github.com/Taegon21/hi-nas-camera/pull/35)
    - 하드코딩된 UI 문자열을 상수로 추출하여 중복 제거
    - 추후 국제화(i18n) 지원을 위한 확장 가능한 구조 마련
- **메시지 및 플레이스홀더 시스템**
    - [PR #11: 폼 UI 관련 상수 정의](https://github.com/Taegon21/hi-nas-camera/pull/11)
    - 카테고리별 플레이스홀더 및 에러 메시지 중앙화하여 일관된 사용자 경험 제공 및 유지보수성 향상

### 4. 접근성 개선

사용자 경험 향상을 위한 모달 컴포넌트 시스템을 구현했습니다.

- **모달 컴포넌트 최적화**
    - [PR #23: 폼 제출 결과 모달 구현](https://github.com/Taegon21/hi-nas-camera/pull/23)
    - `useRef`와 `useEffect` 훅을 활용한 DOM 이벤트 리스너 관리
    - 모달 활성화 시 `document.body.style.overflow = "hidden"` 설정을 통해 배경 스크롤 방지
    - 키보드 접근성 지원 (Escape 키 이벤트 핸들러 구현)
    - 모달 외부 클릭 감지를 위한 이벤트 캡처링 및 버블링 활용

## 추가 구현 사항

### 1. 사용자 테마 설정 시스템(라이트모드 / 다크모드)

프로젝트에 이미 구축되어 있던 CSS 변수 기반 테마 시스템을 발견하고, 이를 활용하여 사용자 테마 설정 시스템을 추가 구현하여 확장하였습니다.

- **다크 모드 시스템 구현**
    - [PR #27: 다크 모드 구현](https://github.com/Taegon21/hi-nas-camera/pull/27)
    - `useLayoutEffect` 훅을 사용하여 초기 렌더링 시 테마 깜빡임 방지
    - 로컬 스토리지를 활용한 사용자 테마 저장

## 추가 라이브러리

### 1. zod

**사용 이유**: 복잡한 폼 데이터 구조에 대한 타입 안전성과 런타임 유효성 검증이 동시에 필요했습니다. zod는 타입스크립트와의 완벽한 통합을 통해 `z.infer` 기능으로 스키마로부터 타입을 자동 생성하고, `satisfies` 패턴으로 타입 일치를 보장하여 컴파일 시점에 오류를 발견할 수 있었습니다.

### 2. react-hook-form

**사용 이유**: 비제어 컴포넌트 기반의 접근법으로 불필요한 리렌더링 없이 폼을 구현할 수 있었습니다. 특히 카메라 파라미터와 같은 다수의 입력 필드를 효율적으로 관리하고, 복잡한 중첩 구조의 폼 상태를 직관적인 API로 다룰 수 있어 선택했습니다.

### 3. @hookform/resolvers

**사용 이유**: react-hook-form과 zod를 연결하기 위한 어댑터로 도입했습니다. 이를 통해 zod의 검증 스키마를 폼 컨텍스트에 원활하게 통합하여, 타입 안전성을 유지하면서도 선언적인 방식으로 폼 검증 로직을 구현할 수 있었습니다.

    

## 개선할 점

### 1. 테스트 코드 추가:

- 폼 유효성 검증 로직과 컴포넌트 렌더링에 대한 단위 테스트, 그리고 전체 폼 제출 과정에 대한 통합 테스트를 추가하여 버그 발생 가능성 감소 및 안정적인 유지보수 기반 마련

### 2. 컴포넌트 문서화:

Storybook 등을 활용하여 모달, 버튼, 입력폼 등 공통 컴포넌트의 사용법과 속성을 문서화함으로써 재사용성 확장

